{
  "name": "pushup",
  "version": "0.4.1",
  "main": "index.js",
  "bin": {
    "pushup": "./bin/cli.js"
  },
  "scripts": {
    "test": "tap test/*.js"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/michaelnisi/pushup.git"
  },
  "bugs": {
    "url": "https://github.com/michaelnisi/pushup/issues"
  },
  "author": {
    "name": "Michael Nisi",
    "email": "michael.nisi@gmail.com",
    "url": "http://michaelnisi.com"
  },
  "license": "MIT",
  "description": "copy files to S3",
  "keywords": [
    "upload",
    "copy",
    "files",
    "commit",
    "S3"
  ],
  "dependencies": {
    "showf": "",
    "knox": "0.8.x"
  },
  "devDependencies": {
    "event-stream": "3.0.x",
    "tap": "0.4.x",
    "rimraf": "2.0.x"
  },
  "engines": {
    "node": "0.10.x"
  },
  "readme": "# pushup - upload to S3\n\n[![David DM](https://david-dm.org/michaelnisi/pushup.png)](http://david-dm.org/michaelnisi/pushup)\n\nThe pushup [Node.js](http://nodejs.org/) module uploads files to a [S3](http://aws.amazon.com/s3/) bucket. Its main purpose is to upload the changed files in the last commit (of a [git](http://git-scm.com/) repository). However, you can also use it to simply copy files or directories to S3. Pushup wraps the [putFile](https://github.com/LearnBoost/knox#put) function of [knox](https://github.com/LearnBoost/knox) into a [Transform stream](http://nodejs.org/api/stream.html#stream_class_stream_transform).\n\n## CLI Usage\n\n    pushup git-repo\n    pushup file ...\n    pushup directory\n\nIn the first synopsis form, pushup uploads the content of the git-repo's latest commit. In the second synopsis form, a list of files is copied to S3; while in the third form, a directory and its entire subtree is copied. If you `pushup` without arguments, the current directory will be used. \n\nAs `pushup` attempts to get the AWS security credentials from its environment, you may export them:\n\n    export AWS_ACCESS_KEY_ID=<api-key-here>\n    export AWS_SECRET_ACCESS_KEY=<secret-here>\n    export S3_BUCKET=bigkahuna\n    export S3_REGION=us-standard\n\n## Library Usage\n\n### Push latest commit to S3\n\n    var showf = require('showf')\n      , pushup = require('pushup')\n      , repo = 'path/to/repo'\n\n    var opts = {\n      , key: '<api-key-here>'\n      , secret: '<secret-here>'\n      , bucket: 'bigkahuna'\n      , region: 'us-standard'\n    }\n\n    showf(repo)\n      .pipe(pushup(opts))\n      .pipe(process.stdout)\n\n### Copy files to S3\n\n    var es = require('event-stream')\n      , pushup = require('pushup')\n      , files = ['path/to/file-1', 'path/to/file-2']\n\n    es.readArray(files)\n      .pipe(pushup(opts)) // opts like above\n      .pipe(process.stdout)\n\n### Copy directory and its entire subtree to S3\n\n    var Reader = require('fstream').Reader\n      , cop = require('cop')\n      , pushup = require('pushup')\n      , relative = require('path').relative\n      , path = 'path/to/directory'\n      , reader = new Reader({ path:'.'} )\n    \n    process.chdir(path)\n      \n    reader\n      .pipe(cop(filter))\n      .pipe(pushup(opts)) // opts like above\n      .pipe(process.stdout)\n\n    function filter (obj) {\n      var isFile = obj.type === 'File'\n      return isFile ? relative(process.cwd(), obj.path) : undefined\n    }\n\n## pushup(opts)\n\nThe `pushup` module exports a single function that returns a [Transform stream](http://nodejs.org/api/stream.html#stream_class_stream_transform), to which you can write filenames, and from which you can read target URLs. A target URL is emitted for each successful upload to S3.\n\n- `opts` \n    - `key` Access key ID (a 20-character, alphanumeric string).\n    - `secret` Secret access key (a 40-character string).\n    - `bucket` Amazon S3 bucket name.\n    - `region` AWS region.\n\nThe options are passed to [knox](https://github.com/LearnBoost/knox). See [here](https://github.com/LearnBoost/knox#client-creation-options) for further information.\n\n## Event:'entry'\n\nThis event fires when uploading of a file begins. The file is streamed to S3. The `entry` objects, provided by [knox](https://github.com/LearnBoost/knox), emit 'progress' events with following properties: `written`, `total`, and `percent`.\n\n## Installation\n\n[![NPM](https://nodei.co/npm/pushup.png)](https://npmjs.org/package/pushup)\n\nTo `pushup` from the command-line:\n\n    npm install -g pushup\n\n## License\n\n[MIT License](https://raw.github.com/michaelnisi/pushup/master/LICENSE)\n",
  "readmeFilename": "README.md",
  "_id": "pushup@0.4.1",
  "dist": {
    "shasum": "3ab8b12c00cd75e8ca7c05b7ad89eac028f3d833"
  },
  "_from": "pushup@0.4.x",
  "_resolved": "https://registry.npmjs.org/pushup/-/pushup-0.4.1.tgz"
}
